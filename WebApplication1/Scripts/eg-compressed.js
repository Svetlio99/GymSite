var Eventgallery=Eventgallery||{};Eventgallery.jQuery=eventgallery.jQuery,function(t){t.Tools={},t.Tools.mergeObjects=function(t,e){if(null===e||null===t)return t;for(var i in e)t[i]=e[i];return t},t.Tools.calcBorderWidth=function(t,e){for(var i=0,o=0;o<t.length;o++)for(var n=0;n<e.length;n++){var a=parseFloat(t[o].css(e[n]));isNaN(a)||(i+=a)}return i},t.Tools.addUrlParameter=function(e,i,o){var n,a=t.Tools.removeUrlParameter(e,i).split("#"),s=a[0].split("?");return n=1===s.length?s[0]+"?"+encodeURIComponent(i)+"="+encodeURIComponent(o):s.join("?")+"&"+encodeURIComponent(i)+"="+encodeURIComponent(o),a.length>1?n+"#"+a[1]:n},t.Tools.removeUrlParameter=function(t,e){var i,o=t.split("#"),n=o[0].split("?");if(n.length>1){for(var a=encodeURIComponent(e)+"=",s=n[1].split("&"),l=0;l<s.length;l++)0===s[l].indexOf(a,0)&&s.splice(l,1);i=s.length>0?n[0]+"?"+s.join("&"):n[0]}else i=n[0];return o.length>1?i+"#"+o[1]:i}}(Eventgallery),function(t,e){t.Touch=function(e){this.options={},this.options=t.Tools.mergeObjects(this.options,e)},t.Touch.removeTouch=function(t){e(t).unbind("touchstart"),e(t).unbind("touchmove"),e(t).unbind("touchend")},t.Touch.addTouch=function(t,i,o,n,a){var s,l,r,h,c,d=!1,g=!1,u={},p={},m=window.innerWidth?window.innerWidth:$(window).width();window.innerHeight?window.innerHeight:$(window).height();e(t).bind("touchstart",function(t){return e(this).addClass("touching"),p=t.originalEvent.targetTouches[0],u.pageX=t.originalEvent.targetTouches[0].pageX,u.pageY=t.originalEvent.targetTouches[0].pageY,e(".touching").bind("touchmove",function(t){!0!==a&&(t.preventDefault(),t.stopPropagation()),p=t.originalEvent.targetTouches[0],g||(h=l,l=p.pageY-u.pageY,(Math.abs(l)>=50||d)&&(d=!0)),r=s,s=p.pageX-u.pageX,c=100*s/m,!g&&!d&&Math.abs(s)>=10&&(g=!0)}),!0===a}).bind("touchend",function(t){t.preventDefault(),t.stopPropagation(),l=p.pageY-u.pageY,s=p.pageX-u.pageX,c=100*s/m,d?(d=!1,Math.abs(l)>=100&&(Math.abs(l),Math.abs(h))):g?(g=!1,s>=10&&s>=r?i():s<=-10&&s<=r&&o()):void 0!==n?n():e(t.target).trigger("click"),e(".touching").off("touchmove").removeClass("touching")})}}(Eventgallery,Eventgallery.jQuery),function(t,e,i){function o(i,o,n){var a=e.createElement(i);return o&&(a.id=Z+o),n&&(a.style.cssText=n),t(a)}function n(){return i.innerHeight?i.innerHeight:t(i).height()}function a(e,i){i!==Object(i)&&(i={}),this.cache={},this.el=e,this.value=function(e){var o;return void 0===this.cache[e]&&(void 0!==(o=t(this.el).attr("data-cbox-"+e))?this.cache[e]=o:void 0!==i[e]?this.cache[e]=i[e]:void 0!==Y[e]&&(this.cache[e]=Y[e])),this.cache[e]},this.get=function(e){var i=this.value(e);return t.isFunction(i)?i.call(this.el,this):i}}function s(t){var e=L.length,i=($+t)%e;return i<0?e+i:i}function l(t,e){return Math.round((/%/.test(t)?("x"===e?z.width():n())/100:1)*parseInt(t,10))}function r(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function h(t,e){return t.get("retinaUrl")&&i.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function c(t){"contains"in w[0]&&!w[0].contains(t.target)&&t.target!==y[0]&&(t.stopPropagation(),w.focus())}function d(t){d.str!==t&&(w.add(y).removeClass(d.str).addClass(t),d.str=t)}function g(e){$=0,e&&!1!==e&&"nofollow"!==e?(L=t("."+tt).filter(function(){return new a(this,t.data(this,V)).get("rel")===e}),-1===($=L.index(G.el))&&(L=L.add(G.el),$=L.length-1)):L=t(G.el)}function u(i){t(e).trigger(i),lt.triggerHandler(i)}function p(i){var n;if(!q){if(n=t(i).data(V),G=new a(i,n),g(G.get("rel")),!N){N=Q=!0,d(G.get("className")),w.css({visibility:"hidden",display:"block",opacity:""}),I=o(rt,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),C.css({width:"",height:""}).append(I),B=x.height()+T.height()+C.outerHeight(!0)-C.height(),O=S.width()+k.width()+C.outerWidth(!0)-C.width(),U=I.outerHeight(!0),J=I.outerWidth(!0);var s=l(G.get("initialWidth"),"x"),r=l(G.get("initialHeight"),"y"),h=G.get("maxWidth"),p=G.get("maxHeight");G.w=Math.max((!1!==h?Math.min(s,l(h,"x")):s)-J-O,0),G.h=Math.max((!1!==p?Math.min(r,l(p,"y")):r)-U-B,0),I.css({width:"",height:G.h}),A.position(),u(et),G.get("onOpen"),D.add(E).hide(),w.focus(),G.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",c,!0),lt.one(at,function(){e.removeEventListener("focus",c,!0)})),G.get("returnFocus")&&lt.one(at,function(){t(G.el).focus()})}var m=parseFloat(G.get("opacity"));y.css({opacity:m===m?m:"",cursor:G.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),G.get("closeButton")?W.html(G.get("close")).appendTo(C):W.appendTo("<div/>"),v()}}function m(){w||(X=!1,z=t(i),w=o(rt).attr({id:V,class:!1===t.support.opacity?Z+"IE":"",role:"dialog",tabindex:"-1"}).hide(),y=o(rt,"Overlay").hide(),P=t([o(rt,"LoadingOverlay")[0],o(rt,"LoadingGraphic")[0]]),b=o(rt,"Wrapper"),C=o(rt,"Content").append(E=o(rt,"Title"),j=o(rt,"Current"),_=t('<button type="button"/>').attr({id:Z+"Previous"}),M=t('<button type="button"/>').attr({id:Z+"Next"}),R=t('<button type="button"/>').attr({id:Z+"Slideshow"}),P),W=t('<button type="button"/>').attr({id:Z+"Close"}),b.append(o(rt).append(o(rt,"TopLeft"),x=o(rt,"TopCenter"),o(rt,"TopRight")),o(rt,!1,"clear:left").append(S=o(rt,"MiddleLeft"),C,k=o(rt,"MiddleRight")),o(rt,!1,"clear:left").append(o(rt,"BottomLeft"),T=o(rt,"BottomCenter"),o(rt,"BottomRight"))).find("div div").css({float:"left"}),H=o(rt,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),D=M.add(_).add(j).add(R)),e.body&&!w.parent().length&&t(e.body).append(y,w.append(b,H))}function f(){function i(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),p(this))}return!!w&&(X||(X=!0,M.bind("touchend click",function(){A.next()}),_.bind("touchend click",function(){A.prev()}),W.bind("touchend click",function(){A.close()}),y.bind("touchend click",function(){G.get("overlayClose")&&A.close()}),t(e).bind("keydown."+Z,function(t){var e=t.keyCode;N&&G.get("escKey")&&27===e&&(t.preventDefault(),A.close()),N&&G.get("arrowKey")&&L[1]&&!t.altKey&&(37===e?(t.preventDefault(),_.click()):39===e&&(t.preventDefault(),M.click()))}),t.isFunction(t.fn.on)?t(e).on("click."+Z,"."+tt,i):t("."+tt).live("click."+Z,i)),!0)}function v(){var e,n,a,s=A.prep,c=++ht;if(Q=!0,F=!1,u(st),u(it),G.get("onLoad"),G.h=G.get("height")?l(G.get("height"),"y")-U-B:G.get("innerHeight")&&l(G.get("innerHeight"),"y"),G.w=G.get("width")?l(G.get("width"),"x")-J-O:G.get("innerWidth")&&l(G.get("innerWidth"),"x"),G.mw=G.w,G.mh=G.h,G.get("maxWidth")&&(G.mw=l(G.get("maxWidth"),"x")-J-O,G.mw=G.w&&G.w<G.mw?G.w:G.mw),G.get("maxHeight")&&(G.mh=l(G.get("maxHeight"),"y")-U-B,G.mh=G.h&&G.h<G.mh?G.h:G.mh),e=G.get("href"),K=setTimeout(function(){P.show()},100),G.get("inline")){var d=t(e);a=t("<div>").hide().insertBefore(d),lt.one(st,function(){a.replaceWith(d)}),s(d)}else G.get("iframe")?s(" "):G.get("html")?s(G.get("html")):r(G,e)?(e=h(G,e),F=G.get("createImg"),t(F).addClass(Z+"Photo").bind("error."+Z,function(){s(o(rt,"Error").html(G.get("imgError")))}).one("load",function(){c===ht&&setTimeout(function(){var e;G.get("retinaImage")&&i.devicePixelRatio>1&&(F.height=F.height/i.devicePixelRatio,F.width=F.width/i.devicePixelRatio),G.get("scalePhotos")&&(n=function(){F.height-=F.height*e,F.width-=F.width*e},G.mw&&F.width>G.mw&&(e=(F.width-G.mw)/F.width,n()),G.mh&&F.height>G.mh&&(e=(F.height-G.mh)/F.height,n())),G.h&&(F.style.marginTop=Math.max(G.mh-F.height,0)/2+"px"),L[1]&&(G.get("loop")||L[$+1])&&(F.style.cursor="pointer",t(F).bind("click."+Z,function(){A.next()})),F.style.width=F.width+"px",F.style.height=F.height+"px",s(F)},1)}),F.src=e):e&&H.load(e,G.get("data"),function(e,i){c===ht&&s("error"===i?o(rt,"Error").html(G.get("xhrError")):t(this).contents())})}var y,w,b,C,x,S,k,T,L,z,I,H,P,E,j,R,M,_,W,D,G,B,O,U,J,$,F,N,Q,q,K,A,X,Y={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return t(this).data("title")?decodeURIComponent(t(this).data("title")):this.title},createImg:function(){var e=new Image,i=t(this).data("cbox-img-attrs");return"object"==typeof i&&t.each(i,function(t,i){e[t]=i}),e},createIframe:function(){var i=e.createElement("iframe"),o=t(this).data("cbox-iframe-attrs");return"object"==typeof o&&t.each(o,function(t,e){i[t]=e}),"frameBorder"in i&&(i.frameBorder=0),"allowTransparency"in i&&(i.allowTransparency="true"),i.name=(new Date).getTime(),i.allowFullscreen=!0,i}},V="eventgallery_colorbox",Z="eventgallery_cbox",tt=Z+"Element",et=Z+"_open",it=Z+"_load",ot=Z+"_complete",nt=Z+"_cleanup",at=Z+"_closed",st=Z+"_purge",lt=t("<a/>"),rt="div",ht=0,ct={},dt=function(){function t(){clearTimeout(s)}function e(){(G.get("loop")||L[$+1])&&(t(),s=setTimeout(A.next,G.get("slideshowSpeed")))}function i(){R.html(G.get("slideshowStop")).unbind(r).one(r,o),lt.bind(ot,e).bind(it,t),w.removeClass(l+"off").addClass(l+"on")}function o(){t(),lt.unbind(ot,e).unbind(it,t),R.html(G.get("slideshowStart")).unbind(r).one(r,function(){A.next(),i()}),w.removeClass(l+"on").addClass(l+"off")}function n(){a=!1,R.hide(),t(),lt.unbind(ot,e).unbind(it,t),w.removeClass(l+"off "+l+"on")}var a,s,l=Z+"Slideshow_",r="touch."+Z+" click."+Z;return function(){a?G.get("slideshow")||(lt.unbind(nt,n),n()):G.get("slideshow")&&L[1]&&(a=!0,lt.one(nt,n),G.get("slideshowAuto")?i():o(),R.show())}}();t[V]||(t(m),(A=t.fn[V]=t[V]=function(e,i){var o=this;return e=e||{},t.isFunction(o)&&(o=t("<a/>"),e.open=!0),o[0]?(m(),f()&&(i&&(e.onComplete=i),o.each(function(){var i=t.data(this,V)||{};t.data(this,V,t.extend(i,e))}).addClass(tt),new a(o[0],e).get("open")&&p(o[0])),o):o}).position=function(e,i){function o(){x[0].style.width=T[0].style.width=C[0].style.width=parseInt(w[0].style.width,10)-O+"px",C[0].style.height=S[0].style.height=k[0].style.height=parseInt(w[0].style.height,10)-B+"px"}var a,s,r,h=0,c=0,d=w.offset();if(z.unbind("resize."+Z),w.css({top:-9e4,left:-9e4}),s=z.scrollTop(),r=z.scrollLeft(),G.get("fixed")?(d.top-=s,d.left-=r,w.css({position:"fixed"})):(h=s,c=r,w.css({position:"absolute"})),!1!==G.get("right")?c+=Math.max(z.width()-G.w-J-O-l(G.get("right"),"x"),0):!1!==G.get("left")?c+=l(G.get("left"),"x"):c+=Math.round(Math.max(z.width()-G.w-J-O,0)/2),!1!==G.get("bottom")?h+=Math.max(n()-G.h-U-B-l(G.get("bottom"),"y"),0):!1!==G.get("top")?h+=l(G.get("top"),"y"):h+=Math.round(Math.max(n()-G.h-U-B,0)/2),w.css({top:d.top,left:d.left,visibility:"visible"}),b[0].style.width=b[0].style.height="9999px",a={width:G.w+J+O,height:G.h+U+B,top:h,left:c},e){var g=0;t.each(a,function(t){a[t]!==ct[t]&&(g=e)}),e=g}ct=a,e||w.css(a),w.dequeue().animate(a,{duration:e||0,complete:function(){o(),Q=!1,b[0].style.width=G.w+J+O+"px",b[0].style.height=G.h+U+B+"px",G.get("reposition")&&setTimeout(function(){z.bind("resize."+Z,A.position)},1),t.isFunction(i)&&i()},step:o})},A.resize=function(t){var e;N&&((t=t||{}).width&&(G.w=l(t.width,"x")-J-O),t.innerWidth&&(G.w=l(t.innerWidth,"x")),I.css({width:G.w}),t.height&&(G.h=l(t.height,"y")-U-B),t.innerHeight&&(G.h=l(t.innerHeight,"y")),t.innerHeight||t.height||(e=I.scrollTop(),I.css({height:"auto"})),I.css({height:G.h}),e&&I.scrollTop(e),A.position("none"===G.get("transition")?0:G.get("speed")))},A.prep=function(i){if(N){var n,l="none"===G.get("transition")?0:G.get("speed");I.remove(),(I=o(rt,"LoadedContent").append(i)).hide().appendTo(H.show()).css({width:function(){return G.w=G.w||I.width(),G.w=G.mw&&G.mw<G.w?G.mw:G.w,G.w}(),overflow:G.get("scrolling")?"auto":"hidden"}).css({height:function(){return G.h=G.h||I.height(),G.h=G.mh&&G.mh<G.h?G.mh:G.h,G.h}()}).prependTo(C),H.hide(),t(F).css({float:"none"}),d(G.get("className")),n=function(){function i(){!1===t.support.opacity&&w[0].style.removeAttribute("filter")}var o,n,c=L.length;N&&(n=function(){clearTimeout(K),P.hide(),u(ot),G.get("onComplete")},E.html(G.get("title")).show(),I.show(),c>1?("string"==typeof G.get("current")&&j.html(G.get("current").replace("{current}",$+1).replace("{total}",c)).show(),M[G.get("loop")||$<c-1?"show":"hide"]().html(G.get("next")),_[G.get("loop")||$?"show":"hide"]().html(G.get("previous")),dt(),G.get("preloading")&&t.each([s(-1),s(1)],function(){var i=L[this],o=new a(i,t.data(i,V)),n=o.get("href");n&&r(o,n)&&(n=h(o,n),e.createElement("img").src=n)})):D.hide(),G.get("iframe")?(o=G.get("createIframe"),G.get("scrolling")||(o.scrolling="no"),t(o).attr({src:G.get("href"),class:Z+"Iframe"}).one("load",n).appendTo(I),lt.one(st,function(){o.src="//about:blank"}),G.get("fastIframe")&&t(o).trigger("load")):n(),"fade"===G.get("transition")?w.fadeTo(l,1,i):i())},"fade"===G.get("transition")?w.fadeTo(l,0,function(){A.position(0,n)}):A.position(l,n)}},A.next=function(){!Q&&L[1]&&(G.get("loop")||L[$+1])&&($=s(1),p(L[$]))},A.prev=function(){!Q&&L[1]&&(G.get("loop")||$)&&($=s(-1),p(L[$]))},A.close=function(){N&&!q&&(q=!0,N=!1,u(nt),G.get("onCleanup"),z.unbind("."+Z),y.fadeTo(G.get("fadeOut")||0,0),w.stop().fadeTo(G.get("fadeOut")||0,0,function(){w.hide(),y.hide(),u(st),I.remove(),setTimeout(function(){q=!1,u(at),G.get("onClosed")},1)}))},A.remove=function(){w&&(w.stop(),t[V].close(),w.stop(!1,!0).remove(),y.remove(),q=!1,w=null,t("."+tt).removeData(V).removeClass(tt),t(e).unbind("click."+Z).unbind("keydown."+Z))},A.element=function(){return t(G.el)},A.isOpen=function(){return N},A.reload=function(){$=s(0),p(L[$])},A.settings=Y)}(Eventgallery.jQuery,document,window),function(t){t(document).ready(function(){function e(){var t=EventGalleryLightboxConfiguration.navigationFadeDelay;i(),t>0&&(l=setTimeout(function(){o()},t))}function i(){l&&clearTimeout(l)}function o(){t(r).animate({opacity:0}),t(r).removeClass("eventgallery-colorbox-nav-visible")}function n(){t(r).animate({opacity:1}),t(r).addClass("eventgallery-colorbox-nav-visible")}function a(){s&&clearTimeout(s),s=setTimeout(function(){t("#eventgallery_cboxOverlay").is(":visible")&&t.eventgallery_colorbox.reload()},300)}var s,l,r="#eventgallery_cboxTitle, #eventgallery_cboxContent>button",h=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i);null!==h||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints;t("a[rel^='lightbo2']").eventgallery_colorbox({maxWidth:"100%",maxHeight:"100%"}),t("a[data-eventgallery-lightbox='gallery']").eventgallery_colorbox({slideshow:EventGallerySlideShowConfiguration.slideshow,slideshowAuto:EventGallerySlideShowConfiguration.slideshowAuto,slideshowSpeed:EventGallerySlideShowConfiguration.slideshowSpeed,slideshowStart:EventGallerySlideShowConfiguration.slideshowStart,slideshowStop:EventGallerySlideShowConfiguration.slideshowStop,current:EventGallerySlideShowConfiguration.slideshowCurrent,className:"eventgallery_colorbox",photo:!0,maxWidth:"100%",maxHeight:"100%",opacity:.9,trapFocus:!1}),t("a[data-eventgallery-lightbox='cart']").eventgallery_colorbox({photo:!0,maxWidth:"90%",maxHeight:"90%",rel:"cart"}),t("button[data-eventgallery-lightbox='content']").eventgallery_colorbox({inline:!0,maxWidth:"80%"}),t("a[data-eventgallery-lightbox='content']").eventgallery_colorbox({inline:!0,maxWidth:"80%",className:"content"}),t(".singleimage-zoom").click(function(e){e.preventDefault(),t("#bigimagelink").click()}),t(document).bind("eventgallery_cbox_complete",function(){var e=t("#eventgallery_cboxTitle"),i=t("#eventgallery_cboxCurrent"),o=t.fn.eventgallery_colorbox.element(),n=o.find(".eventgallery-icon-container"),a=o.find(".eventgallery-icon-container span"),s=!1;i.hide(),(a.is(":visible")||"true"===n.attr("data-visible"))&&a.length>0&&(s=!0),s?(e.html(t('<table class="table"><tr><td class="icons"></td><td class="content">'+e.html()+'</td><td class="current">'+i.html()+"</td></tr></table>").html()),e.find(".icons").append(a.clone())):e.html(t('<table class="table"><tr><td class="icons"></td><td class="content">'+e.html()+'</td><td class="current">'+i.html()+"</td></tr></table>").html())}),t(document).bind("eventgallery_cbox_open",function(){Eventgallery.Touch.addTouch("body",t.eventgallery_colorbox.prev,t.eventgallery_colorbox.next,void 0,!0),window.history&&history.pushState&&(t(window).on("popstate.eventgallery_colorbox",function(e){e.preventDefault(),window.location.href.indexOf("lightbox=1")>-1||t.eventgallery_colorbox.close()}),history.pushState("","",Eventgallery.Tools.addUrlParameter(window.location.href,"lightbox","1"))),h||(t("#eventgallery_colorbox").on("mouseenter.eventgallery_colorbox",r,function(t){t.stopPropagation(),n(),i()}),t("#eventgallery_colorbox").on("mouseenter.eventgallery_colorbox",function(){n(),e()}),t("#eventgallery_colorbox").on("mouseleave.eventgallery_colorbox",r,function(){e()}),e())}),t(document).bind("eventgallery_cbox_closed",function(){Eventgallery.Touch.removeTouch("body"),window.history&&history.pushState&&(t(window).off("popstate.eventgallery_colorbox"),history.replaceState("","",Eventgallery.Tools.removeUrlParameter(window.location.href,"lightbox"))),t("#eventgallery_colorbox").off("mouseenter.eventgallery_colorbox mouseleave.eventgallery_colorbox"),i()}),t(window).resize(function(){a()}),!0===EventGallerySlideShowConfiguration.slideshowRightClickProtection&&t(document).on("contextmenu","img.eventgallery_cboxPhoto",function(t){return t.preventDefault(),!1})})}(Eventgallery.jQuery),function(t){t.SizeCalculator=function(e){this.options={availableSizes:[48,104,160,288,320,400,512,640,720,800,1024,1280,1440],flickrSizes:{100:"t",240:"m",320:"n",500:"-",640:"z",800:"c",1024:"b",1600:"h",2048:"k"}},this.options=t.Tools.mergeObjects(this.options,e)},t.SizeCalculator.prototype.adjustImageURL=function(t,e){return t=t.replace(/width=(\d*)/,"width="+e),t=t.replace(/\/s(\d*)\//,"/s"+e+"/"),t=t.replace(/\/s(\d*)-c\//,"/s"+e+"-c/")},t.SizeCalculator.prototype.getFlickrURL=function(t,e,i,o,n,a,s,l,r,h,c){var d,g,u,p,m=l,f=h;if(c>h&&(m=r,f=c),r==l&&(m=(p=h/c)>1?l*p:l/p),f<m)d="o";else for(var v in this.options.flickrSizes)if(v>m){d=this.options.flickrSizes[v];break}switch(d){case"o":g=a;break;case"h":g=o;break;case"k":g=n;break;default:g=i}return u="-"==d?"":"_"+d,"https://farm"+t+".staticflickr.com/"+e+"/"+s+"_"+g+u+".jpg"},t.SizeCalculator.prototype.getSize=function(t,e,i){for(var o=this.options.availableSizes[0],n=0;n<this.options.availableSizes.length;n++){var a,s=this.options.availableSizes[n];if(o>this.options.availableSizes[0])break;var l=n==this.options.availableSizes.length-1;i>=1?(a=s/i>e,(s>t&&a||l)&&(o=s)):(a=s>e,(s*i>t&&a||l)&&(o=s))}return o}}(Eventgallery),function(t,e){t.Image=function(i,o,n){this.options={maxImageHeight:800},this.options=t.Tools.mergeObjects(this.options,n),this.tag=e(i),this.index=o,this.calculatedWidth=0,this.calcSize()},t.Image.prototype.calcSize=function(){var e=this.tag.find("img").first();if(0!==e.length){var i=[this.tag,e];this.glueLeft=t.Tools.calcBorderWidth(i,["padding-left","margin-left","border-left-width"]),this.glueRight=t.Tools.calcBorderWidth(i,["padding-right","margin-right","border-right-width"]),this.glueTop=t.Tools.calcBorderWidth(i,["padding-top","margin-top","border-top-width"]),this.glueBottom=t.Tools.calcBorderWidth(i,["padding-bottom","margin-bottom","border-bottom-width"]),this.width=e.data("width"),this.height=e.data("height"),void 0===this.width&&(this.width=this.tag.width()-this.glueLeft-this.glueRight),void 0===this.height&&(this.height=this.tag.height()-this.glueTop-this.glueBottom)}},t.Image.prototype.setSize=function(e,i,o){i>this.options.maxImageHeight&&(e=Math.round(e/i*this.options.maxImageHeight),i=this.options.maxImageHeight);var n=e-this.glueLeft-this.glueRight,a=i-this.glueTop-this.glueBottom;this.width<n&&(n=this.width),this.height<a&&(a=this.height);var s=this.width/this.height,l=this.tag.find("img");if(0!==l.length){var r=new t.SizeCalculator,h=l.css("background-image"),c=l.attr("longDesc");c||(c="");var d=l.data("secret");if(void 0!==d){var g=l.data("secret_o"),u=l.data("secret_h"),p=l.data("secret_k"),m=l.data("farm"),f=l.data("server"),v=l.data("id"),y=r.getFlickrURL(m,f,d,u,p,g,v,n,a,this.width,this.height);h="url('"+y+"')",c=y,!0}else{var w=r.getSize(n,a,s);h=r.adjustImageURL(h,w),c=r.adjustImageURL(c,w)}l.css("background-image",h),l.css("background-image",h),l.attr("longDesc",c),l.css("background-position","50% 50%"),l.css("background-repeat","no-repeat"),l.css("display","block"),l.css("margin","auto"),o&&(n===a?l.css("background-size",this.width>this.height?"auto 100%":"100% auto"):l.css("background-size"," 100% 100%")),n>0&&l.css("width",n),a>0&&l.css("height",a)}}}(Eventgallery,Eventgallery.jQuery),function(t,e){t.Row=function(e){this.options={maxWidth:960,maxHeight:250,heightJitter:0,adjustHeight:!0,doFillLastRow:!0},this.options=t.Tools.mergeObjects(this.options,e),this.isLastRow=!1,this.images=[],this.width=0,this.options.heightJitter>0&&(this.options.maxHeight=Math.floor(this.options.maxHeight+2*Math.random()*this.options.heightJitter-this.options.heightJitter))},t.Row.prototype.add=function(t){var e=t.width/t.height*this.options.maxHeight,i=this.width+e<=this.options.maxWidth||0===this.images.length;return i||Math.abs(this.options.maxWidth-this.width-e)/this.options.maxWidth<.2&&(i=!0),!!i&&(this.images.push(t),t.calculatedWidth=e,this.width=this.width+e,!0)},t.Row.prototype.processRow=function(){var t,e,i;for(t=this.options.maxWidth-this.width,this.isLastRow&&!1===this.options.doFillLastRow?(t>=0&&(t=0),e=this.options.maxHeight):e=this.options.maxHeight/(this.width/this.options.maxWidth),!1===this.options.adjustHeight&&(e=this.options.maxHeight),i=0;i<this.images.length;i++){var o=this.images[i],n=o.calculatedWidth,a=n/this.width*t;o.setSize(n+a,e,!0===this.options.adjustHeight)}}}(Eventgallery,Eventgallery.jQuery),function(t,e){t.Imagelist=function(e){this.options={rowHeightPercentage:100,rowHeight:150,rowHeightJitter:0,minImageWidth:150,doFillLastRow:!1,imagesetContainer:null,imageset:null,firstImageRowHeight:2,initComplete:function(){},resizeStart:function(){},resizeComplete:function(){}},this.images=[],this.eventgalleryPageWidth=0,this.width=null,this.options=t.Tools.mergeObjects(this.options,e),void 0!==e&&this.initialize()},t.Imagelist.prototype.initialize=function(){var i=this;this.width=e(this.options.imagesetContainer).width(),this.eventgalleryPageWidth=this.width;var o=this.options.imageset;this.images=[],e.each(o,function(e,o){i.images.push(new t.Image(o,e))}),e(window).resize(e.proxy(function(){window.clearTimeout(this.eventgalleryTimer),this.eventgalleryTimer=setTimeout(e.proxy(function(){var t=e(this.options.imagesetContainer).width();this.width=t,this.eventgalleryPageWidth!=t&&(this.options.resizeStart(),this.eventgalleryPageWidth=t,this.processList(),this.options.resizeComplete())},this),500)},this)),e(this.options.imagesetContainer).css("min-height",this.options.rowHeight*this.images.length),this.processList(),e(this.options.imagesetContainer).css("min-height","0px"),window.setTimeout(this.options.initComplete,1)},t.Imagelist.prototype.getRowWidth=function(){var t=this.width;return window.getComputedStyle?t=Math.floor(parseFloat(window.getComputedStyle(this.options.imagesetContainer).width))-1:t-=1,t},t.Imagelist.prototype.processList=function(){var t,e=this.getRowWidth(),i=this.images.slice(0);if(this.options.firstImageRowHeight>1){var o=i.shift();o.tag.css("display","none"),e=this.getRowWidth(),o.tag.css("display","block");var n=this.options.firstImageRowHeight*this.options.rowHeight,a=Math.floor(o.width/o.height*n);a+this.options.minImageWidth>=e&&(a=e,rowsLeft=0),o.setSize(a,n),(t={maxWidth:e-a,maxHeight:this.options.rowHeight,adjustHeight:!1}).maxWidth>0&&this.generateRows(i,this.options.firstImageRowHeight,t,!1)}t={maxWidth:e,maxHeight:this.options.rowHeight,heightJitter:this.options.rowHeightJitter,doFillLastRow:this.options.doFillLastRow},this.generateRows(i,99999,t,!0)},t.Imagelist.prototype.generateRows=function(e,i,o,n){for(var a=new t.Row(o);e.length>0&&i>0;)if(a.add(e[0]))e.shift();else{if(a.processRow(),0===--i)break;a=new t.Row(o)}n&&(a.isLastRow=!0),a.processRow()}}(Eventgallery,Eventgallery.jQuery),function(t,e){t.EventsList=function(e){t.Imagelist.call(this,e)},t.EventsList.prototype=new t.Imagelist,t.EventsList.prototype.constructor=t.EventsList,t.EventsList.prototype.processList=function(){var t=this.width,i=this;e.each(this.images,function(){var e=Math.ceil(t*i.options.rowHeightPercentage/100);this.setSize(t,e,!0)})}}(Eventgallery,Eventgallery.jQuery),function(t,e){t.EventsTiles=function(e){t.Imagelist.call(this,e)},t.EventsTiles.prototype=new t.Imagelist,t.EventsTiles.prototype.constructor=t.EventsTiles,t.EventsTiles.prototype.processList=function(){var t=this.width,i=this;e.each(this.images,function(){var e=Math.round(this.height/this.width*t),o=t;"height"==i.options.adjustMode&&this.height>this.width&&(e=t,o=Math.round(this.width/this.height*e)),this.setSize(o,e,!0)})}}(Eventgallery,Eventgallery.jQuery),function(t,e){t.GridCollection=function(i){this.options={tiles:e("#events-tiles .event"),tilesContainer:e("#events-tiles .event-tiles"),thumbSelector:".event-thumbnail",thumbContainerSelector:".event-thumbnails"},this.options=t.Tools.mergeObjects(this.options,i),this.tiles=this.options.tiles,this.tilesContainer=this.options.tilesContainer},t.GridCollection.prototype.calculate=function(){var i=1,o=this;this.tiles.css({visibility:"hidden",position:"static",float:"left"});for(var n=e(this.tiles[0]).position().top,a=1;a<this.tiles.length&&e(this.tiles[a]).position().top==n;a++)i++;var s=e(this.tiles[0]).width(),l=0,r=0;e.each(this.tiles,function(){e(this).css({left:l*s,top:r*s,height:s}),++l+1>i&&(l=0,r++)}),e.each(this.tiles,function(){var i=e(this),n=i.find(o.options.thumbSelector),a=i.find(o.options.thumbContainerSelector),s=i.width()-t.Tools.calcBorderWidth([i],["padding-right","margin-right","border-width","padding-left","margin-left","border-width"]),l=Math.floor((s-n.width())/2),r=Math.floor((i.height()-n.height())/2);a.data("adjust-x",l),a.data("adjust-y",r)}),e.each(this.tiles,function(){var t=e(this).find(o.options.thumbContainerSelector);t.css("left",t.data("adjust-x")+"px"),t.css("top",t.data("adjust-y")+"px")});var h=Math.ceil(this.tiles.length/i)*s;this.tilesContainer.css("height",h),this.tiles.css({visibility:"visible",position:"absolute",float:"none"})}}(Eventgallery,Eventgallery.jQuery),function(t,e){t.TilesCollection=function(i){this.options={tiles:e("#events-tiles .event"),tilesContainer:e("#events-tiles .event-tiles")},this.options=t.Tools.mergeObjects(this.options,i),this.tiles=this.options.tiles,this.tilesContainer=this.options.tilesContainer},t.TilesCollection.prototype.calculate=function(){var t,i=this,o=1,n=e(this.tiles[0]);e.each(this.tiles,function(t,i){e(i).css({visibility:"hidden",position:"static",float:"left"})});var a=n.position().top;for(t=1;t<this.tiles.length&&e(this.tiles[t]).position().top==a;t++)o++;var s=[];for(t=0;t<o;t++)s.push(0);var l=n.outerWidth();e.each(this.tiles,function(t,i){var o=e(i);o.data("height",o.outerHeight())}),e.each(this.tiles,function(t,o){var n=e(o),a=i.getSmallestColumn(s);n.css({left:a*l,top:s[a]}),s[a]=s[a]+n.data("height")}),e.each(this.tiles,function(t,i){e(i).css({visibility:"visible",position:"absolute",float:"none"})}),e(this.tilesContainer).css("height",s[this.getHighestColumn(s)])},t.TilesCollection.prototype.getSmallestColumn=function(t){for(var e=t[0],i=0,o=0;o<t.length;o++)e>t[o]&&(e=t[o],i=o);return i},t.TilesCollection.prototype.getHighestColumn=function(t){for(var e=t[0],i=0,o=0;o<t.length;o++)e<t[o]&&(e=t[o],i=o);return i}}(Eventgallery,Eventgallery.jQuery),function(t,e){t.SquareList=function(e){t.Imagelist.call(this,e)},t.SquareList.prototype=new t.Imagelist,t.SquareList.prototype.constructor=t.SquareList,t.SquareList.prototype.processList=function(){var t=this.width;e.each(this.images,function(){this.setSize(t,t,!0)})}}(Eventgallery,Eventgallery.jQuery),function(t,e){t.Cart=function(e){this.cart=[],this.isMultiline=!1,this.options={buttonShowType:"block",emptyCartSelector:".eventgallery-cart-empty",cartSelector:".eventgallery-ajaxcart",cartItemContainerSelector:".cart-items-container",cartItemsSelector:".eventgallery-ajaxcart .cart-items",cartItemSelector:".eventgallery-ajaxcart .cart-items .cart-item",cartCountSelector:".itemscount",buttonDownSelector:".toggle-down",buttonUpSelector:".toggle-up",cartItemsMinHeight:null,removeUrl:"",add2cartUrl:"",getCartUrl:"",removeLinkTitle:"Remove"},this.options=t.Tools.mergeObjects(this.options,e),this.initialize()},t.Cart.prototype.slideUp=function(){e(this.options.cartItemContainerSelector).animate({height:this.options.cartItemsMinHeight}),e(this.options.buttonUpSelector).css("display","none"),this.isMultiline?e(this.options.buttonDownSelector).css("display",this.options.buttonShowType):e(this.options.buttonDownSelector).css("display","none")},t.Cart.prototype.slideDown=function(){e(this.options.cartItemContainerSelector).animate({height:e(this.options.cartItemsSelector).height()}),e(this.options.buttonDownSelector).css("display","none"),e(this.options.buttonUpSelector).css("display",this.options.buttonShowType)},t.Cart.prototype.initialize=function(){e(this.options.buttonDownSelector).click(e.proxy(function(t){t.preventDefault(),this.slideDown()},this)),e(this.options.buttonUpSelector).click(e.proxy(function(t){t.preventDefault(),this.slideUp()},this)),$document=e(document),$document.off("change",".eventgallery-cartquantity"),$document.on("change",".eventgallery-cartquantity",e.proxy(this.updateQuantity,this)),$document.off("touchend click",".eventgallery-openAdd2cart"),$document.on("touchend click",".eventgallery-openAdd2cart",e.proxy(this.openOverlay,this)),$document.off("touchend click",".eventgallery-closeAdd2cart"),$document.on("touchend click",".eventgallery-closeAdd2cart",e.proxy(this.closeOverlay,this)),$document.off("touchend click",".eventgallery-opencart"),$document.on("touchend click",".eventgallery-opencart",e.proxy(this.openCart,this)),$document.off("touchend click",".eventgallery-qtyplus"),$document.on("touchend click",".eventgallery-qtyplus",e.proxy(this.quantityPlus,this)),$document.off("touchend click",".eventgallery-qtyminus"),$document.on("touchend click",".eventgallery-qtyminus",e.proxy(this.quantityMinus,this)),$document.off("touchend click",".eventgallery-removeFromCart"),$document.on("touchend click",".eventgallery-removeFromCart",e.proxy(this.removeFromCart,this)),$document.on("updatecartlinks",e.proxy(function(t){this.populateCart(!0)},this)),$document.on("updatecart",e.proxy(function(t,e){this.cart=e,this.populateCart(!1)},this)),this.updateCart()},t.Cart.prototype.openOverlay=function(t){t.preventDefault(),t.stopPropagation();var i=e(t.target);i.attr("data-id")||(i=i.parent("[data-id]"));var o=function(t){t.hide(),t.css({top:0,left:0});var i=e(window).width(),o=e(window).height(),n=t.outerWidth(),a=t.outerHeight(),s=e(window).scrollTop(),l=0,r=s;i-n>0&&(l=(i-n)/2),o-a>0&&(r=s+(o-a)/2),t.css({top:r,left:l}),t.fadeIn()},n=e('<div id="add2cart-overlay"><i class="egfa egfa-2x egfa-cog egfa-spin"></i></div>'),a=e('<div id="add2cart-overlay-background"></div>');n.css({opacity:"1 !important",position:"absolute","max-width":"100%"}),e("body").append(a),e("body").append(n),o(n),n.load(EventGalleryCartConfiguration.add2carturl+"&"+i.attr("data-id"),function(t,i,a){e(".eventgallery-closeAdd2cart").click(s),o(n)});var s=function(){n.fadeOut(300,function(){e(this).remove(),e("#add2cart-overlay-background").remove()}),e(document).off("touchend click",l)},l=function(t){"add2cart-overlay"!=t.target.id&&0===e(t.target).parents("#add2cart-overlay").length&&s()};e(document).on("touchend click",l),e(window).resize(function(t){o(n)})},t.Cart.prototype.closeOverlay=function(){},t.Cart.prototype.openCart=function(t){t.preventDefault(),window.location.href=e(t.target).attr("data-href")},t.Cart.prototype.updateCartItemContainer=function(){this.isMultiline=!1;var t=-1,i=this;if(e(this.options.cartItemSelector).each(function(){var o=e(this).position().top;t<0?t=o:t!=o&&(i.isMultiline=!0)}),this.isMultiline){var o=e(this.options.buttonDownSelector),n=e(this.options.buttonUpSelector);"none"==o.css("display")&&"none"==n.css("display")?o.css("display",this.options.buttonShowType):"none"!=n.css("display")&&setTimeout(e.proxy(function(){this.slideDown()},this),1e3)}else this.slideUp()},t.Cart.prototype.populateCart=function(t){0===this.cart.length?(e(this.options.cartSelector).slideUp(),e(this.options.emptyCartSelector).slideDown()):(e(this.options.cartSelector).slideDown(),e(this.options.emptyCartSelector).slideUp());var i=e(this.options.cartItemsSelector);if(null!==i){t||i.html(""),e(".eventgallery-add2cart i.egfa").addClass("egfa-cart-plus").removeClass("egfa-shopping-cart");for(var o=this.cart.length-1;o>=0;o--){var n="folder="+this.cart[o].folder+"&file="+this.cart[o].file;t||i.html(i.html()+'<div class="cart-item"><span class="badge">'+this.cart[o].count+"</span>"+this.cart[o].imagetag+'<a href="#" title="'+this.options.removeLinkTitle+'" class="button-removeFromCart eventgallery-removeFromCart" data-id="lineitemid='+this.cart[o].lineitemid+'"><i class="egfa egfa-2x egfa-remove"></i></a></div>'),e(".eventgallery-add2cart[data-id*='"+n+"'] i.egfa").addClass("egfa-shopping-cart").removeClass("egfa-cart-plus")}t||(i.html(i.html()+'<div style="clear:both"></div>'),null===this.options.cartItemsMinHeight&&(this.options.cartItemsMinHeight=e(this.options.cartItemContainerSelector).height()),this.updateCartItemContainer()),e(".itemscount").html(this.cart.length),$lightBoxTrigger=e("a[data-eventgallery-lightbox='cart']"),$lightBoxTrigger.eventgallery_colorbox({photo:!0,maxWidth:"90%",maxHeight:"90%",rel:"cart"})}},t.Cart.prototype.updateCart=function(){e.getJSON(this.options.getCartUrl,{json:"yes"},function(t){void 0!==t&&e(document).trigger("updatecart",[t])})},t.Cart.prototype.removeFromCart=function(t){return this.doRequest(t,this.options.removeUrl)},t.Cart.prototype.updateQuantity=function(t){var i=e(t.target),o=(i.data("imagetypeid"),parseInt(i.val())),n=i.data("id");return t.preventDefault(),n=n+"&quantity="+o,this.doRequest(t,this.options.add2cartUrl,n)},t.Cart.prototype.quantityPlus=function(t){t.preventDefault();var i=e(t.target).attr("field"),o=e("input[name="+i+"]"),n=parseInt(o.val());if(isNaN(n))o.val(0);else{var a=o.data("maxorderquantity");(0===a||o.val()<a)&&o.val(n+1),o.change()}},t.Cart.prototype.quantityMinus=function(t){t.preventDefault();var i=e(t.target).attr("field"),o=e("input[name="+i+"]"),n=parseInt(o.val());!isNaN(n)&&n>0?o.val(n-1).change():o.val(0)},t.Cart.prototype.doRequest=function(t,i,o){t.preventDefault();var n=e(t.target);n.attr("data-id")||(n=n.parent("[data-id]"));var a=n.children("i");return void 0===o&&(o=n.attr("data-id")),a.removeClass("egfa-cart-plus").removeClass("egfa-shopping-cart").addClass("egfa-spin egfa-gear"),e.getJSON(i,o,function(t){void 0!==t&&e(document).trigger("updatecart",[t]),a.removeClass("egfa-spin").removeClass("egfa-gear").addClass("")}),!0}}(Eventgallery,Eventgallery.jQuery),function(t){t(document).ready(function(){t(document).on("touchend click",".social-share-button-close",function(e){e.preventDefault(),t(e.target).parents(".social-sharing-toolbox").fadeOut(300,function(){t(this).remove()})}),t(document).on("touchend click",".social-share-button-open",function(e){e.preventDefault(),e.stopPropagation();var i=t(e.target);i.attr("data-link")||(i=i.parent("[data-link]"));var o="id_"+Math.ceil(1e7*Math.random()),n=i.offset(),a=t('<div><i class="egfa egfa-2x egfa-cog egfa-spin"></i></div>');a.attr("id",o),a.addClass("social-sharing-toolbox"),a.css({opacity:"1 !important",position:"absolute",top:n.top-10,left:n.left-10}),i.parents("#eventgallery_colorbox").length>0&&(a.addClass("social-sharing-toolbox-dark"),a.css({top:n.top-30})),t("body").append(a),a.fadeIn(),a.load(i.attr("data-link"));var s=null,l=function(){a.fadeOut(300,function(){t(this).remove()}),t(document).off("touchend click",r)};a.mouseleave(function(){s=window.setTimeout(l,1e3)}),a.mouseenter(function(){window.clearTimeout(s)});var r=function(e){e.target.id!=o&&0===t(e.target).parents("#"+o).length&&l()};t(document).on("touchend click",r)})})}(Eventgallery.jQuery),function(t,e){t.JSGallery2=function(i,o,n,a){this.options={prevHandle:null,nextHandle:null,countHandle:null,titleTarget:null,initialIndex:-1,maxOpacity:.8,showSocialMediaButton:!0,showCartButton:!0,showCartConnector:!1,cartConnectorLinkRel:"",activeClass:"thumbnail-active",loadingClass:"thumbnail-loading",lightboxRel:"lightbo2",touchContainerSelector:"#bigimageContainer"},this.options=t.Tools.mergeObjects(this.options,a);var s=e(n).children("div");this.running=!1,this.currentPageNumber=0,this.imageToLoadQueue=[],this.blockKeys=!1,this.imagesPerFirstPage=e(s[0]).children("div.thumbnail").length,this.imagesPerPage=this.imagesPerFirstPage,s.length>1&&e(s[1]).children("div.thumbnail").length>0&&(this.imagesPerPage=e(s[1]).children("div.thumbnail").length),this.thumbs=i,this.bigImage=e(o),this.pageContainer=e(n),this.convertThumbs(),this.lastPage=Math.ceil((this.thumbs.length-this.imagesPerFirstPage)/this.imagesPerPage)+1;var l=document.location.toString().split("#");this.initialIndex=0,l.length>0&&!0===/(^\d\d*$)/.test(l[1])&&(this.initialIndex=l[1]),this.createControls(),this.gotoPage(0),-1!=this.options.initialIndex?(this.unBlockKeys(),this.selectByIndex(this.options.initialIndex)):0!==this.initialIndex&&(this.unBlockKeys(),this.selectByIndex(this.initialIndex)),this.loadNextImage()},t.JSGallery2.prototype.createControls=function(){this.prevLink=e('<a href="#" class="link jsgallery-prev"></a>'),this.prevLink.bind("touchend click",e.proxy(this.prevImage,this)),this.prevLink.mouseleave(e.proxy(this.mouseLeaveHandler,this)),this.prevLink.mouseover(e.proxy(function(t){this.focusControl(t,this.prevLink)},this)),this.zoomLink=e('<a href="#" class="link jsgallery-zoom"></a>'),this.zoomLink.mouseleave(e.proxy(this.mouseLeaveHandler,this)),this.zoomLink.attr("data-eventgallery-lightbox",this.options.lightboxRel),this.zoomLink.mouseover(e.proxy(function(t){this.focusControl(t,this.zoomLink)},this)),this.nextLink=e('<a href="#" class="link jsgallery-next"></a>'),this.nextLink.bind("touchend click",e.proxy(this.nextImage,this)),this.nextLink.mouseleave(e.proxy(this.mouseLeaveHandler,this)),this.nextLink.mouseover(e.proxy(function(t){this.focusControl(t,this.nextLink)},this)),this.bigImage.parent().append(this.prevLink),this.bigImage.parent().append(this.zoomLink),this.bigImage.parent().append(this.nextLink),this.options.showCartButton&&(this.add2cartLink=e('<a href="#" class="eventgallery-add2cart eventgallery-openAdd2cart jsgallery-add2cart"><i class="egfa egfa-2x egfa-cart-plus"></i></a>'),this.bigImage.parent().append(this.add2cartLink),e("body").trigger("updatecartlinks")),this.options.showCartConnector&&(this.cartConnectorLink=e('<a href="#" id="ajax-cartconnector" class="button-cart-connector jsgallery-cartconnector"><i class="egfa egfa-2x egfa-cart-plus"></i></a>'),this.cartConnectorLink.attr("rel",this.options.cartConnectorLinkRel),this.bigImage.parent().append(this.cartConnectorLink)),this.options.showSocialMediaButton&&(this.socialmediabutton=e('<a id="ajax-social-media-button" class="social-share-button social-share-button-open jsgallery-socialmedia" rel="nofollow" href="#"><i class="egfa egfa-2x egfa-share-alt-square"></i></a>'),this.bigImage.parent().append(this.socialmediabutton)),e(document).keydown(e.proxy(this.keyboardHandler,this));var i=e.proxy(function(t){this.nextImage(t)},this),o=e.proxy(function(t){this.prevImage(t)},this),n=function(t){event.target.click()};t.Touch.addTouch(this.options.touchContainerSelector,o,i,n,!0),this.mouseLeaveHandler()},t.JSGallery2.prototype.focusControl=function(t,e){e.css("opacity",1)},t.JSGallery2.prototype.mouseLeaveHandler=function(){e(this.nextLink).css("opacity",0),e(this.prevLink).css("opacity",0),e(this.zoomLink).css("opacity",0)},t.JSGallery2.prototype.keyboardHandler=function(t){!0===e.eventgallery_colorbox.isOpen()&&void 0!==e.eventgallery_colorbox.element().data("eventgallery-lightbox")&&e.eventgallery_colorbox.element().data("eventgallery-lightbox").indexOf("cart")>-1||this.blockKeys||(t.keyCode>=49&&t.keyCode<=57?this.gotoPage(t.key-1):37==t.keyCode?this.prevImage(t):39==t.keyCode&&this.nextImage(t))},t.JSGallery2.prototype.getDistanceToMouse=function(t,i){var o=e(t),n=Math.abs(i.clientX-(o.position().left+o.width()/2)),a=Math.abs(i.clientY-(o.position().top+o.height()/2));return Math.sqrt(Math.pow(n,2)+Math.pow(a,2))},t.JSGallery2.prototype.resetThumbs=function(){this.running=!1,this.imageToLoadQueue=[],this.convertThumbs(),this.loadNextImage(),this.select(this.selectedContainer,!0)},t.JSGallery2.prototype.convertThumbs=function(){var t=this;e.each(this.thumbs,function(e,i){t.convertThumb(i,e)})},t.JSGallery2.prototype.convertThumb=function(t,i){if(void 0!==t){var o=e(t);o.click(e.proxy(function(t){t.preventDefault(),this.select(o)},this)),o.css("position","relative"),o.attr("data-counter",i),o.attr("href","#"),o.addClass(this.options.loadingClass),this.imageToLoadQueue.push(o)}},t.JSGallery2.prototype.unBlockKeys=function(){this.blockKeys=!1},t.JSGallery2.prototype.select=function(t,i){if(i=void 0!==i&&i,this.blockKeys||null===t)return!1;if(this.blockKeys=!0,void 0!==this.selectedContainer){if(t==this.selectedContainer&&!i)return this.unBlockKeys(),!1;this.deselect(this.selectedContainer)}document.location.hash="#"+this.thumbs.index(t);var o=Math.floor((e(t).data("counter")-this.imagesPerFirstPage)/this.imagesPerPage)+1;this.currentPageNumber!=o&&this.gotoPage(o,t),this.selectedContainer=t,e(t).addClass(this.options.activeClass);var n=e(t).children().first();this.options.showCartButton&&this.add2cartLink.attr("data-id",n.attr("data-id")),this.options.showCartConnector&&(this.cartConnectorLink.attr("data-folder",n.data("folder")),this.cartConnectorLink.attr("data-file",n.data("file")),this.cartConnectorLink.attr("href",decodeURIComponent(n.data("cart-connector-link")))),this.options.showSocialMediaButton&&this.socialmediabutton.attr("data-link",decodeURIComponent(n.data("social-sharing-link"))),e(document).trigger("updatecartlinks"),this.setImage(n.attr("rel"),n.attr("longdesc"),n.data("description"),n.data("title"))},t.JSGallery2.prototype.loadNextImage=function(){if(!0!==this.running){this.running=!0;var t=this.imageToLoadQueue.shift(),i=e(t).children().first().attr("rel"),o=e('<img id="tempImg"/>').appendTo("body").css("display","none");o.load(e.proxy(this.imageLoaded,this,t)),o.attr("src",i)}},t.JSGallery2.prototype.imageLoaded=function(t){!0===this.running&&(this.running=!1,e("#tempImg").remove(),t.removeClass(this.options.loadingClass),this.imageToLoadQueue.length>0&&this.loadNextImage())},t.JSGallery2.prototype.selectByIndex=function(t){(t<0||this.thumbs.length<=t)&&(t=0),this.select(this.thumbs[t])},t.JSGallery2.prototype.deselect=function(t){e(t).removeClass(this.options.activeClass)},t.JSGallery2.prototype.setImage=function(t,i,o,n){this.bigImage.parent().fadeOut(150,e.proxy(function(){this.bigImage.attr("src",t);var a=decodeURIComponent(n);this.zoomLink.attr("data-title",a),this.zoomLink.attr("rel","galleryajax"),this.zoomLink.attr("href",i),e("a[data-eventgallery-lightbox='gallery']").eventgallery_colorbox({photo:!0,maxWidth:"100%",maxHeight:"100%"}),!0===e.eventgallery_colorbox.isOpen()&&e.eventgallery_colorbox.reload(),e(this.options.titleTarget).html(decodeURIComponent(o)),this.bigImage.parent().fadeIn(350,e.proxy(function(){this.unBlockKeys()},this))},this))},t.JSGallery2.prototype.prevPage=function(){this.gotoPage(this.currentPageNumber-1)},t.JSGallery2.prototype.nextPage=function(){this.gotoPage(this.currentPageNumber+1)},t.JSGallery2.prototype.prevImage=function(t){void 0!==t&&t.preventDefault(),this.selectByIndex(this.thumbs.index(this.selectedContainer)-1)},t.JSGallery2.prototype.nextImage=function(t){void 0!==t&&t.preventDefault(),this.selectByIndex(this.thumbs.index(this.selectedContainer)+1)},t.JSGallery2.prototype.zoomImage=function(t){void 0!==t&&t.preventDefault()},t.JSGallery2.prototype.gotoPage=function(t,i){if(i=0===t?void 0===i?this.thumbs[0]:i:[i,this.thumbs[(t-1)*this.imagesPerPage+this.imagesPerFirstPage]].pick(),t>=0&&t<this.lastPage){this.pageContainer.css("margin-left",this.pageContainer.children().width()*t*-1);var o=0;this.pageContainer.children().each(function(t,i){var n=e(i).height();n>o&&(o=n)}),this.pageContainer.css("height",o),this.currentPageNumber=t,this.select(i),this.updateHandles()}},t.JSGallery2.prototype.updateHandles=function(){void 0!==this.options.prevHandle&&(0===this.currentPageNumber?this.options.prevHandle.fadeOut():this.options.prevHandle.fadeIn()),void 0!==this.options.nextHandle&&(this.currentPageNumber==this.lastPage-1?this.options.nextHandle.fadeOut():this.options.nextHandle.fadeIn()),void 0!==this.options.countHandle&&this.updatePagingBar(this.options.countHandle,this.currentPageNumber,this.lastPage)},t.JSGallery2.prototype.updatePagingBar=function(t,i,o){var n;if(o>1&&""===t.html())for(n=0;n<o;n++)this.createCountLink(this,t,n);this.options.pageSpeed;if(o>9){for(n=0;n<o;n++)e("#count"+n).css("display","inline");var a=o,s=0,l=o-i-1,r=i;for(r>4&&l>4?(s=i-4,a=i+5):(r<=4&&(s=0,a=i+5+(4-r)),l<=4&&(s=i-4-(4-l),a=o)),n=0;n<s;n++)e("#count"+n).css("display","none");for(n=a;n<o;n++)e("#count"+n).css("display","none")}e(t).children(".active").removeClass("active"),e("#count"+i).addClass("active")},t.JSGallery2.prototype.createCountLink=function(t,i,o){var n=e('<a href="#">'+(o+1)+"</a>");n.click(e.proxy(function(t){return this.gotoPage(o),!1},t));var a=e('<li class="count" id="count'+o+'"></li>');a.append(n),i.append(a)}}(Eventgallery,Eventgallery.jQuery),function(t,e){t.Lazyload=function(t){this.options={range:200,elements:"img.eventgallery-lazyme",container:window,startPosition:-1,onScroll:function(){},onLoad:function(t){t.removeClass("eventgallery-lazyload-loading").addClass("eventgallery-lazyload-loaded")},onComplete:function(){}},"undefined"!=typeof EventGalleryLazyloadRange&&(this.options.range=EventGalleryLazyloadRange),this.initialize(t)},t.Lazyload.prototype.initialize=function(i){this.options=t.Tools.mergeObjects(this.options,i),this.$container=e(this.options.container!=window&&this.options.container!=document.body?this.options.container:document.body),this.$elements=this.$container.find(this.options.elements),this.containerDimension=e(window).height(),this.startPosition=this.options.startPosition;for(var o=e(document.body),n=this,a=0;a<this.$elements.length;a++){var s=e(this.$elements[a]);s.attr("longDesc")&&s.addClass("eventgallery-lazyload-loading")}this.$elements=this.$elements.filter(function(){if(e(this).attr("longDesc"))return!0});var l=function(){var t=e(window).scrollTop();t>n.startPosition&&(n.$elements=n.$elements.filter(function(){var i=e(this),a=i.offset().top-o.offset().top;return!(t+n.options.range+n.containerDimension>=a)||(i.attr("longDesc")&&i.css("background-image",'url("'+i.attr("longDesc")+'")'),n.options.onLoad.call(n,i),!1)}),n.startPosition=t),n.options.onScroll.call(),0===n.$elements.length&&(e(window).off("scroll",l),n.options.onComplete.call())};e(window).on("scroll",l),l()}}(Eventgallery,Eventgallery.jQuery),function(t,e){"use strict";e(document).ready(function(){e(".eventgallery-events-gridlist").each(function(i,o){var n=e(o),a=n.find(".event-thumbnails .event-thumbnail"),s={rowHeightPercentage:100,imagesetContainer:n.find(".event-thumbnails").first(),imageset:a,lazyloader:null,initComplete:function(){var e={container:o};s.eventgalleryLazyloader=new t.Lazyload(e)},resizeStart:function(){n.find(".event-thumbnails .event-thumbnail img.eventgallery-lazyme").removeClass("eventgallery-lazyload-loaded").addClass("eventgallery-lazyload-loading")},resizeComplete:function(){s.eventgalleryLazyloader.initialize(),e(window).trigger("scroll")}};a.length>0&&new t.EventsList(s)}),e(".eventgallery-events-tiles-list").each(function(i,o){var n=e(o),a={imagesetContainer:n.find(".event-thumbnails").first(),imageset:n.find(".event-thumbnail"),eventgalleryTilesCollection:null,eventgalleryLazyloader:null,initComplete:function(){var i={container:o};a.eventgalleryLazyloader=new t.Lazyload(i);var s={tiles:n.find(".eventgallery-tiles .eventgallery-tile"),tilesContainer:n.find(".eventgallery-tiles")};a.eventgalleryTilesCollection=new t.TilesCollection(s),a.eventgalleryTilesCollection.calculate(),e(window).load(function(){a.eventgalleryTilesCollection.calculate()})},resizeStart:function(){n.find(".event-thumbnails .event-thumbnail img.eventgallery-lazyme").removeClass("eventgallery-lazyload-loaded").addClass("eventgallery-lazyload-loading")},resizeComplete:function(){a.eventgalleryLazyloader.initialize(),a.eventgalleryTilesCollection.calculate(),e(window).trigger("scroll")}};new t.EventsTiles(a)}),e(".eventgallery-event-tiles-list").each(function(i,o){var n=e(o),a={imagesetContainer:n.find(".event-thumbnails").first(),imageset:n.find(".event-thumbnail"),adjustMode:"width",eventgalleryLazyloader:null,eventgalleryTilesCollection:null,initComplete:function(){var i={container:o},s={tiles:n.find(".eventgallery-tiles .eventgallery-tile"),tilesContainer:n.find(".eventgallery-tiles")};a.eventgalleryTilesCollection=new t.TilesCollection(s),a.eventgalleryTilesCollection.calculate(),a.eventgalleryLazyloader=new t.Lazyload(i),e(window).load(function(){a.eventgalleryTilesCollection.calculate(),a.eventgalleryLazyloader=new t.Lazyload(i)})},resizeStart:function(){n.find(".event-thumbnails .event-thumbnail img.eventgallery-lazyme").removeClass("eventgallery-lazyload-loaded").addClass("eventgallery-lazyload-loading")},resizeComplete:function(){a.eventgalleryLazyloader.initialize(),a.eventgalleryTilesCollection.calculate(),e(window).trigger("scroll")}};new t.EventsTiles(a)}),e(".eventgallery-event-gridlist").each(function(i,o){var n=e(o),a={imagesetContainer:n.find(".event-thumbnails").first(),imageset:n.find(".event-thumbnail"),adjustMode:"height",eventgalleryGridCollection:null,eventgalleryLazyloader:null,initComplete:function(){var i={container:o},s={tiles:n.find(".eventgallery-simplelist .eventgallery-simplelist-tile"),tilesContainer:n.find(".eventgallery-simplelist"),thumbSelector:".event-thumbnail",thumbContainerSelector:".event-thumbnails"};a.eventgalleryGridCollection=new t.GridCollection(s),a.eventgalleryGridCollection.calculate(),a.eventgalleryLazyloader=new t.Lazyload(i),e(window).load(function(){a.eventgalleryGridCollection.calculate(),a.eventgalleryLazyloader=new t.Lazyload(i)})},resizeStart:function(){n.find(".event-thumbnails .event-thumbnail img.eventgallery-lazyme").removeClass("eventgallery-lazyload-loaded").addClass("eventgallery-lazyload-loading")},resizeComplete:function(){a.eventgalleryLazyloader.initialize(),a.eventgalleryGridCollection.calculate(),e(window).trigger("scroll")}};new t.EventsTiles(a)}),e(".eventgallery-imagelist").each(function(i,o){var n=e(o),a={rowHeight:n.data("rowheight"),rowHeightJitter:n.data("rowheightjitter"),firstImageRowHeight:n.data("firstimagerowheight"),doFillLastRow:!0===n.data("dofilllastrow"),imagesetContainer:o,imageset:n.find(".thumbnail"),eventgalleryLazyloader:null,initComplete:function(){var e={container:o};a.eventgalleryLazyloader=new t.Lazyload(e)},resizeStart:function(){n.find(".thumbnail img.eventgallery-lazyme").removeClass("eventgallery-lazyload-loaded").addClass("eventgallery-lazyload-loading")},resizeComplete:function(){a.eventgalleryLazyloader.initialize(),e(window).trigger("scroll")}};new t.Imagelist(a)}),e(".eventgallery-event-square-list").each(function(i,o){var n=e(o),a={imagesetContainer:n.find(".event-thumbnails").first(),imageset:n.find(".event-thumbnail"),adjustMode:"width",eventgalleryLazyloader:null,initComplete:function(){var e={container:o};a.eventgalleryLazyloader=new t.Lazyload(e)},resizeStart:function(){n.find(".event-thumbnails .event-thumbnail img.eventgallery-lazyme").removeClass("eventgallery-lazyload-loaded").addClass("eventgallery-lazyload-loading")},resizeComplete:function(){a.eventgalleryLazyloader.initialize(),e(window).trigger("scroll")}};new t.SquareList(a)}),e(".eventgallery-imagetype-selection-row").click(function(t){e(t.target).closest("tr").find("input").prop("checked",!0)}),e(document).on("touchend click",".eventgallery-cart-connector",function(t){t.preventDefault(),t.stopPropagation();var i=e(t.target);i.attr("data-href")||(i=i.parent("SPAN")),window.location.href=i.attr("data-href")})})}(Eventgallery,Eventgallery.jQuery),function(t){t(document).ready(function(){t(".mod-eventgallery-event-slide").each(function(e,i){var o=3e3+5e3*Math.random(),n=null,a=t(i),s=a.find("a.thumbnail"),l=0;a.css("height",a.find("a.thumbnail").outerHeight()),s.css("opacity",0).show(),s.first().css("opacity",1);var r=function(e){window.clearTimeout(n),t(s[l]).animate({opacity:0},500),l=(l+1)%s.length,t(s[l]).animate({opacity:1},300),n=window.setTimeout(r,o)};n=window.setTimeout(r,o)})})}(eventgallery.jQuery);